#####################
### SHARED CONFIG ###
#####################
export POSIX_CONFIG="$HOME/.config/posix" # Works with sh/bash/zsh
export ZSH="$HOME/.config/zsh"
export SETUP="$ZSH/setup"

command_exists() {
  command -v "$@" >/dev/null 2>&1
}
# New config
# Load color formatter
. $HOME/.config/posix/print_format.sh

# for file in "$ZSH"/lib/*.zsh(N); do
#   source $file
# done

source $ZSH/theme.zsh
source $ZSH/locale.zsh
# source $ZSH/lib/history.zsh
# source $ZSH/lib/completion.zsh
# source $ZSH/lib/git.zsh
# source $ZSH/lib/directories.zsh

# Go-lang-specific configuration
{{- if (lookPath "go") -}}
export GOPATH="$HOME/go"
export PATH="$PATH:$GOPATH/bin"
{{- end -}}

# FZF Integration
{{- if (lookPath "fzf") -}}
source <(fzf --zsh)
{{- end -}}

# Enable vi mode
bindkey -v

# Custom LS_COLORS settings
#export LS_COLORS="di=1;34:fi=0;37:ln=36:pi=33:so=32:bd=46;34:cd=46;34:or=31;43:mi=05;37;41"

#####################
### MacOS CONFIG  ###
#####################
{{ if eq .chezmoi.os "darwin" }}
  export BREW_PATH="/opt/homebrew/bin"
  export PATH=$BREW_PATH:$PATH
  {{ if (lookPath "/Applications/iTerm.app/Contents/MacOS/iTerm2") -}}
    source $SETUP/iterm2.zsh
  {{- end }}
{{ else if eq .chezmoi.os "linux" }}
#####################
### LINUX CONFIG  ###
#####################
{{   if eq .chezmoi.osRelease.id "debian" }}
{{   else if eq .chezmoi.osRelease.id "fedora" }}
{{   else if eq .chezmoi.osRelease.id "arch" }}
{{ end }}
{{ end }}

if (( $+commands[chezmoi] )); then
fi

#####################
## MOBILE DEV MAC ###
#####################
{{ if eq .chezmoi.hostname "euge-mini" }}
  #-- Android Studio --
  source $SETUP/android_studio.zsh

  #-- LM Studio --
  {{ if (lookPath "/Applications/LM Studio.app/Contents/MacOS/LM Studio") -}}
    export PATH="$PATH:$HOME/.lmstudio/bin"
  {{- end }}
{{ end }}
# other comment

